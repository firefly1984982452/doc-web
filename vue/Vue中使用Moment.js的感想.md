---
title: Vue中使用Moment.js的感想
date: 2019-08-30 15:44:34
categories: 
- program
---

# 下载

`npm install moment --save`
或
`cnpm install moment --save`

# 导入并定义

`main.js`文件中：

```
import moment from 'moment' // 导入文件
Vue.prototype.$moment = moment // 赋值使用
moment.locale('zh-cn') // 需要汉化
```

# 使用

`this.$moment().add('months',6).format('YYYY-MM-DD')`

这个方法就是从此刻开始算，往后加6个月

# 感想

刚开始我需要实现这样的一个需求：`从此刻开始算，往后加6个月`，之前有考虑过`moment.js`，但是看文档复杂，再又看网上教程没有我想要的，就没有仔细的看，踩了好几次坑，才终于又找到这个方法解决了这个问题。

第一次，我把每个月按30天算，6个月后也就是6*30天后，这样也方便我回调显示几个月，但不能达到真正6个月的效果，后弃之；
第二次，我直接把月份+6个月，看上去没问题，但终于在今天2019年8月30日发现了问题，6个月之后是2020年2月30日，2月是没有30日的，所以出现了问题，然后我又不得不再找解决办法；
第三次，我找的解决办法是把每个月按31天计算，6个月后也就是6*31天，比真正的6个月后多了几天，但不影响功能，所以可以先参考；
第四次，是最复杂、也是我最先考虑但绝对不会用的一个方法：先看今年是不是闰年（365天还是366天），然后找到6个月后需要多少天，即要算清楚30天+31天这种，我觉得这太麻烦了，所以也放弃了。

终于，我在这种走投无路的情况下不得不选择看`moment.js`里面有没有我想要的方法，这次我没有看复杂的文档，直接看别人写的使用教程，别人举的例子是往后加9天，我就试了一下往后加6个月，这一试，果然可以了，终于结束了这个缠人的bug.

所以，我刚开始考虑`moment.js`的时候为什么不多静下来想想呢？

另外，站在巨人的肩膀上的感觉真的特别爽。